<%- include('includes/header') %> <%- include('includes/navbar') %>

<div class="container text-center">
  <h3 class="my-3">Add Product</h3>
  <form action="/admin/add" method="post" enctype="multipart/form-data">
    <input
      type="text"
      class="form-control mb-3"
      name="productName"
      placeholder="Product name"
    />

    <% let nameError = validationErrors.find(err => err.path === 'productName') %>
    <% if (nameError) { %>
    <p class="alert alert-danger"><%= nameError.msg %></p>
    <% } %>
    <input
      type="number"
      class="form-control mb-3"
      name="productPrice"
      placeholder="Product Price"
    />

    <% let priceError = validationErrors.find(err => err.path === 'productPrice') %> <%
    if (priceError) { %>
    <p class="alert alert-danger"><%= priceError.msg %></p>
    <% } %>

    <input
      type="text"
      class="form-control mb-3"
      name="productDescription"
      placeholder="Product description"
    />
    <% let descError = validationErrors.find(err => err.path === 'productDescription') %>
    <% if (descError) { %>
    <p class="alert alert-danger"><%= descError.msg %></p>
    <% } %>

    <input
      type="text"
      class="form-control mb-3"
      name="productAuthor"
      placeholder="Product Author"
    />
    <% let authorError = validationErrors.find(err => err.path === 'productDescription') %>
    <% if (authorError) { %>
    <p class="alert alert-danger"><%= authorError.msg %></p>
    <% } %>

    <input
      type="text"
      class="form-control mb-3"
      name="productCategory"
      placeholder="Product category"
    />

    <% let categoryError = validationErrors.find(err => err.path ===
    'productCategory') %> <% if (categoryError) { %>
    <p class="alert alert-danger"><%= categoryError.msg %></p>
    <% } %>

    <input
      type="file"
      class="form-control mb-3"
      name="productImage"
      placeholder="Product image"
    />

    <% let imageError = validationErrors.find(err => err.path ===
    'productImage') %> <% if (imageError) { %>
    <p class="alert alert-danger"><%= imageError.msg %></p>
    <% } %>

    <input type="submit" class="btn btn-primary" value="Add Product" />
  </form>
</div>

<%- include('includes/footer') %>
