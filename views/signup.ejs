<%- include('includes/header') %> <%- include('includes/navbar') %>

<div class="container text-center">
  <h3 class="my-3">Create Account</h3>
  <form action="/signup" method="post">
    <input
      type="text"
      class="form-control mb-3"
      name="username"
      placeholder="Username"
    />

    <% let usernameError = validationErrors.find(err => err.path === 'username') %>
    <% if (usernameError) { %>
        <p class="alert alert-danger">
            <%= usernameError.msg %>
        </p>
        <% } %>
    <input
      type="email"
      class="form-control mb-3"
      name="email"
      placeholder="E-mail"
    />

    <% let emailError = validationErrors.find(err => err.path === 'email') %>
    <% if (emailError) { %>
        <p class="alert alert-danger">
            <%= emailError.msg %>
        </p>
        <% } %>

    <input
      type="password"
      class="form-control mb-3"
      name="password"
      placeholder="Password"
    />
    <% let passError = validationErrors.find(err => err.path === 'password') %>
    <% if (passError) { %>
        <p class="alert alert-danger">
            <%= passError.msg %>
        </p>
        <% } %>

    <input
      type="password"
      class="form-control mb-3"
      name="confirmPassword"
      placeholder="Confirm Password"
    />

    <% let confirmpassError = validationErrors.find(err => err.path === 'confirmPassword') %>
    <% if (confirmpassError) { %>
        <p class="alert alert-danger">
            <%= confirmpassError.msg %>
        </p>
        <% } %>

    <input type="submit" class="btn btn-primary" value="Create Account" />
  </form>

  <% if(authError) {%>
  <p class="alert alert-danger"><%= authError %></p>
  <% } %>
  <br />

  <div>Already have an account? <a href="/login">Login</a></div>
</div>

<%- include('includes/footer') %>
